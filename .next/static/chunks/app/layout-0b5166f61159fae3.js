(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2940:function(e,t,r){Promise.resolve().then(r.bind(r,2883)),Promise.resolve().then(r.bind(r,5734)),Promise.resolve().then(r.bind(r,3827)),Promise.resolve().then(r.t.bind(r,2972,23)),Promise.resolve().then(r.t.bind(r,4742,23)),Promise.resolve().then(r.t.bind(r,7960,23))},2883:function(e,t,r){"use strict";r.d(t,{default:function(){return m}});var a=r(7437),s=r(2265),n=r(7648),o=r(3247),i=r(9763);let c=(0,i.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var l=r(6275),u=r(2489);let d=(0,i.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var y=r(3827),p=r(5734);function m(){let[e,t]=(0,s.useState)(!1),{state:r}=(0,y.j)(),{state:i}=(0,p.a)();return(0,a.jsx)("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)(n.default,{href:"/",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 gradient-bg rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"P"})}),(0,a.jsx)("span",{className:"text-xl font-bold text-gradient",children:"PulseBuy"})]}),(0,a.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[(0,a.jsx)(n.default,{href:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Home"}),(0,a.jsx)(n.default,{href:"/products",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Producten"}),(0,a.jsx)(n.default,{href:"/about",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Over Ons"}),(0,a.jsx)(n.default,{href:"/contact",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Contact"})]}),(0,a.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Zoek producten...",className:"w-64 px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),(0,a.jsx)(o.Z,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[i.isAuthenticated?(0,a.jsx)(n.default,{href:"/profile",className:"p-2 text-gray-700 hover:text-primary-600 transition-colors",children:(0,a.jsx)(c,{className:"h-6 w-6"})}):(0,a.jsx)(n.default,{href:"/login",className:"p-2 text-gray-700 hover:text-primary-600 transition-colors",children:(0,a.jsx)(c,{className:"h-6 w-6"})}),(0,a.jsxs)(n.default,{href:"/cart",className:"p-2 text-gray-700 hover:text-primary-600 transition-colors relative",children:[(0,a.jsx)(l.Z,{className:"h-6 w-6"}),r.itemCount>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:r.itemCount})]}),(0,a.jsx)("button",{className:"md:hidden p-2 text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>t(!e),children:e?(0,a.jsx)(u.Z,{className:"h-6 w-6"}):(0,a.jsx)(d,{className:"h-6 w-6"})})]})]}),e&&(0,a.jsx)("div",{className:"md:hidden py-4 border-t border-gray-200",children:(0,a.jsxs)("nav",{className:"flex flex-col space-y-4",children:[(0,a.jsx)(n.default,{href:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Home"}),(0,a.jsx)(n.default,{href:"/products",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Producten"}),(0,a.jsx)(n.default,{href:"/about",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Over Ons"}),(0,a.jsx)(n.default,{href:"/contact",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Contact"}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsx)("input",{type:"text",placeholder:"Zoek producten...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})})]})})]})})}},5734:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return u},a:function(){return d}});var a=r(7437),s=r(2265),n=r(557),o=r.n(n);let i=(0,s.createContext)(null),c=(e,t)=>{switch(t.type){case"LOGIN_START":return{...e,isLoading:!0};case"LOGIN_SUCCESS":case"LOAD_USER":return{...e,user:t.payload.user,token:t.payload.token,isAuthenticated:!0,isLoading:!1};case"LOGIN_FAILURE":case"LOGOUT":return{...e,user:null,token:null,isAuthenticated:!1,isLoading:!1};case"UPDATE_USER":return{...e,user:e.user?{...e.user,...t.payload}:null};default:return e}},l={user:null,isAuthenticated:!1,isLoading:!0,token:null};function u(e){let{children:t}=e,[r,n]=(0,s.useReducer)(c,l);(0,s.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("pulsebuy-token");if(e){if(function(e){try{return o().verify(e,"your-super-secret-jwt-key-here")}catch(e){return null}}(e)){let t=await fetch("/api/auth/verify",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let r=await t.json();n({type:"LOAD_USER",payload:{user:r.user,token:e}})}else localStorage.removeItem("pulsebuy-token")}else localStorage.removeItem("pulsebuy-token")}}catch(e){console.error("Error loading user:",e),localStorage.removeItem("pulsebuy-token")}finally{n({type:"LOGIN_FAILURE"})}})()},[]);let u=async(e,t)=>{n({type:"LOGIN_START"});try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await r.json();if(a.success)return localStorage.setItem("pulsebuy-token",a.token),n({type:"LOGIN_SUCCESS",payload:{user:a.user,token:a.token}}),{success:!0,message:"Succesvol ingelogd!"};return n({type:"LOGIN_FAILURE"}),{success:!1,message:a.message||"Inloggen gefaald"}}catch(e){return n({type:"LOGIN_FAILURE"}),{success:!1,message:"Er is een fout opgetreden"}}},d=async e=>{try{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(r.success)return{success:!0,message:"Account succesvol aangemaakt! Je kunt nu inloggen."};return{success:!1,message:r.message||"Registratie gefaald"}}catch(e){return{success:!1,message:"Er is een fout opgetreden"}}},y=async e=>{try{let t=await fetch("/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},body:JSON.stringify(e)}),a=await t.json();if(a.success)return n({type:"UPDATE_USER",payload:e}),{success:!0,message:"Profiel bijgewerkt!"};return{success:!1,message:a.message||"Bijwerken gefaald"}}catch(e){return{success:!1,message:"Er is een fout opgetreden"}}};return(0,a.jsx)(i.Provider,{value:{state:r,dispatch:n,login:u,register:d,logout:()=>{localStorage.removeItem("pulsebuy-token"),n({type:"LOGOUT"})},updateProfile:y},children:t})}function d(){let e=(0,s.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},3827:function(e,t,r){"use strict";r.d(t,{CartProvider:function(){return c},j:function(){return l}});var a=r(7437),s=r(2265);let n=(0,s.createContext)(null),o=(e,t)=>{switch(t.type){case"ADD_ITEM":if(e.items.find(e=>e.productId===t.payload.productId)){let r=e.items.map(e=>e.productId===t.payload.productId?{...e,quantity:Math.min(e.quantity+t.payload.quantity,e.maxStock)}:e);return{...e,items:r,total:r.reduce((e,t)=>e+t.price*t.quantity,0),itemCount:r.reduce((e,t)=>e+t.quantity,0)}}{let r={...t.payload,id:"".concat(t.payload.productId,"-").concat(Date.now())},a=[...e.items,r];return{...e,items:a,total:a.reduce((e,t)=>e+t.price*t.quantity,0),itemCount:a.reduce((e,t)=>e+t.quantity,0)}}case"REMOVE_ITEM":{let r=e.items.filter(e=>e.id!==t.payload);return{...e,items:r,total:r.reduce((e,t)=>e+t.price*t.quantity,0),itemCount:r.reduce((e,t)=>e+t.quantity,0)}}case"UPDATE_QUANTITY":{let r=e.items.map(e=>e.id===t.payload.id?{...e,quantity:Math.min(Math.max(t.payload.quantity,0),e.maxStock)}:e).filter(e=>e.quantity>0);return{...e,items:r,total:r.reduce((e,t)=>e+t.price*t.quantity,0),itemCount:r.reduce((e,t)=>e+t.quantity,0)}}case"CLEAR_CART":return{...e,items:[],total:0,itemCount:0};case"TOGGLE_CART":return{...e,isOpen:!e.isOpen};case"LOAD_CART":{let r=t.payload;return{...e,items:r,total:r.reduce((e,t)=>e+t.price*t.quantity,0),itemCount:r.reduce((e,t)=>e+t.quantity,0)}}case"SHOW_TOAST":return{...e,showToast:!0,lastAddedItem:t.payload};case"HIDE_TOAST":return{...e,showToast:!1,lastAddedItem:null};default:return e}},i={items:[],total:0,itemCount:0,isOpen:!1,showToast:!1,lastAddedItem:null};function c(e){let{children:t}=e,[r,c]=(0,s.useReducer)(o,i);return(0,s.useEffect)(()=>{{let e=localStorage.getItem("pulsebuy-cart");if(e)try{let t=JSON.parse(e);c({type:"LOAD_CART",payload:t})}catch(e){console.error("Error loading cart from localStorage:",e),localStorage.removeItem("pulsebuy-cart")}}},[]),(0,s.useEffect)(()=>{localStorage.setItem("pulsebuy-cart",JSON.stringify(r.items))},[r.items]),(0,a.jsx)(n.Provider,{value:{state:r,dispatch:c,addToCart:e=>{c({type:"ADD_ITEM",payload:e})},removeFromCart:e=>{c({type:"REMOVE_ITEM",payload:e})},updateQuantity:(e,t)=>{c({type:"UPDATE_QUANTITY",payload:{id:e,quantity:t}})},clearCart:()=>{c({type:"CLEAR_CART"})},toggleCart:()=>{c({type:"TOGGLE_CART"})},showToast:e=>{c({type:"SHOW_TOAST",payload:e})},hideToast:()=>{c({type:"HIDE_TOAST"})}},children:t})}function l(){let e=(0,s.useContext)(n);if(!e)throw Error("useCart must be used within a CartProvider");return e}},3247:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6275:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},2489:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7960:function(){},4742:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}}},function(e){e.O(0,[540,218,972,422,971,117,744],function(){return e(e.s=2940)}),_N_E=e.O()}]);