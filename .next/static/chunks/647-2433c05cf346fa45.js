"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[647],{6647:function(e,t,r){r.d(t,{default:function(){return f}});var a=r(7437),n=r(2265),o=r(6275),l=r(3827),i=r(5302),s=r(2489),c=r(6858),u=r(7648),d=r(3145);function m(e){let{isVisible:t,onClose:r,product:l,cartCount:m}=e;return((0,n.useEffect)(()=>{if(t){let e=setTimeout(()=>{r()},5e3);return()=>clearTimeout(e)}},[t,r]),t)?(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-100 p-5 max-w-sm w-full backdrop-blur-sm",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full flex items-center justify-center mr-3 shadow-lg",children:(0,a.jsx)(i.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-bold text-gray-900",children:"✅ Toegevoegd!"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 font-medium",children:[m," ",1===m?"item":"items"," in winkelwagen"]})]})]}),(0,a.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors hover:bg-gray-100 rounded-full p-1",children:(0,a.jsx)(s.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 relative flex-shrink-0",children:(0,a.jsx)(d.default,{src:l.image,alt:l.name,fill:!0,style:{objectFit:"cover"},className:"rounded-lg"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",children:l.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["€",l.price.toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(u.default,{href:"/cart",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white text-sm font-bold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center shadow-lg",onClick:r,children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"\uD83D\uDED2 Winkelwagen"]}),(0,a.jsxs)(u.default,{href:"/checkout",className:"flex-1 bg-gradient-to-r from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 text-gray-700 text-sm font-bold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105 flex items-center justify-center border border-gray-300",onClick:r,children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"\uD83D\uDCB3 Afrekenen"]})]})]})}):null}function f(e){let{productId:t,productName:r,price:i,image:s="https://via.placeholder.com/400x400",maxStock:c=100}=e,[u,d]=(0,n.useState)(!1),[f,h]=(0,n.useState)(!1),{addToCart:p,showToast:x}=(0,l.j)(),y=async()=>{d(!0);try{let e={productId:t,name:r,price:i,image:s,quantity:1,maxStock:c};p(e),x({id:"".concat(t,"-").concat(Date.now()),...e}),await new Promise(e=>setTimeout(e,500)),h(!0),setTimeout(()=>h(!1),2e3)}catch(e){console.error("Fout bij toevoegen aan winkelwagen:",e)}finally{d(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:y,disabled:u||f,className:"w-full flex items-center justify-center space-x-2 py-3 px-4 rounded-xl font-bold transition-all duration-300 transform hover:scale-105 ".concat(f?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg":u?"bg-gray-400 text-white cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl"),children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,a.jsx)("span",{children:"Toevoegen..."})]}):f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-lg",children:"✓"}),(0,a.jsx)("span",{children:"Toegevoegd!"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"\uD83D\uDED2 In Winkelwagen"})]})}),(0,a.jsx)(m,{isVisible:f,onClose:()=>h(!1),product:{name:r,price:i,image:s},cartCount:0})]})}},3827:function(e,t,r){r.d(t,{CartProvider:function(){return s},j:function(){return c}});var a=r(7437),n=r(2265);let o=(0,n.createContext)(null),l=(e,t)=>{switch(t.type){case"ADD_ITEM":if(e.items.find(e=>e.productId===t.payload.productId)){let r=e.items.map(e=>e.productId===t.payload.productId?{...e,quantity:Math.min(e.quantity+t.payload.quantity,e.maxStock)}:e);return{...e,items:r,total:r.reduce((e,t)=>e+t.price*t.quantity,0),itemCount:r.reduce((e,t)=>e+t.quantity,0)}}{let r={...t.payload,id:"".concat(t.payload.productId,"-").concat(Date.now())},a=[...e.items,r];return{...e,items:a,total:a.reduce((e,t)=>e+t.price*t.quantity,0),itemCount:a.reduce((e,t)=>e+t.quantity,0)}}case"REMOVE_ITEM":{let r=e.items.filter(e=>e.id!==t.payload);return{...e,items:r,total:r.reduce((e,t)=>e+t.price*t.quantity,0),itemCount:r.reduce((e,t)=>e+t.quantity,0)}}case"UPDATE_QUANTITY":{let r=e.items.map(e=>e.id===t.payload.id?{...e,quantity:Math.min(Math.max(t.payload.quantity,0),e.maxStock)}:e).filter(e=>e.quantity>0);return{...e,items:r,total:r.reduce((e,t)=>e+t.price*t.quantity,0),itemCount:r.reduce((e,t)=>e+t.quantity,0)}}case"CLEAR_CART":return{...e,items:[],total:0,itemCount:0};case"TOGGLE_CART":return{...e,isOpen:!e.isOpen};case"LOAD_CART":{let r=t.payload;return{...e,items:r,total:r.reduce((e,t)=>e+t.price*t.quantity,0),itemCount:r.reduce((e,t)=>e+t.quantity,0)}}case"SHOW_TOAST":return{...e,showToast:!0,lastAddedItem:t.payload};case"HIDE_TOAST":return{...e,showToast:!1,lastAddedItem:null};default:return e}},i={items:[],total:0,itemCount:0,isOpen:!1,showToast:!1,lastAddedItem:null};function s(e){let{children:t}=e,[r,s]=(0,n.useReducer)(l,i);return(0,n.useEffect)(()=>{{let e=localStorage.getItem("pulsebuy-cart");if(e)try{let t=JSON.parse(e);s({type:"LOAD_CART",payload:t})}catch(e){console.error("Error loading cart from localStorage:",e),localStorage.removeItem("pulsebuy-cart")}}},[]),(0,n.useEffect)(()=>{localStorage.setItem("pulsebuy-cart",JSON.stringify(r.items))},[r.items]),(0,a.jsx)(o.Provider,{value:{state:r,dispatch:s,addToCart:e=>{s({type:"ADD_ITEM",payload:e})},removeFromCart:e=>{s({type:"REMOVE_ITEM",payload:e})},updateQuantity:(e,t)=>{s({type:"UPDATE_QUANTITY",payload:{id:e,quantity:t}})},clearCart:()=>{s({type:"CLEAR_CART"})},toggleCart:()=>{s({type:"TOGGLE_CART"})},showToast:e=>{s({type:"SHOW_TOAST",payload:e})},hideToast:()=>{s({type:"HIDE_TOAST"})}},children:t})}function c(){let e=(0,n.useContext)(o);if(!e)throw Error("useCart must be used within a CartProvider");return e}},9763:function(e,t,r){r.d(t,{Z:function(){return l}});var a=r(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{color:i="currentColor",size:s=24,strokeWidth:c=2,absoluteStrokeWidth:u,children:d,...m}=r;return(0,a.createElement)("svg",{ref:l,...n,width:s,height:s,stroke:i,strokeWidth:u?24*Number(c)/Number(s):c,className:"lucide lucide-".concat(o(e)),...m},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...(Array.isArray(d)?d:[d])||[]])});return r.displayName="".concat(e),r}},6858:function(e,t,r){r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},5302:function(e,t,r){r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6275:function(e,t,r){r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},2489:function(e,t,r){r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3145:function(e,t,r){r.d(t,{default:function(){return n.a}});var a=r(8461),n=r.n(a)},7648:function(e,t,r){r.d(t,{default:function(){return n.a}});var a=r(2972),n=r.n(a)},8461:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return s},getImageProps:function(){return i}});let a=r(7043),n=r(5346),o=r(5878),l=a._(r(5084));function i(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let s=o.Image}}]);